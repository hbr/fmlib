<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Unicode (fmlib_std.Fmlib_std.Unicode)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">fmlib_std</a> &#x00BB; <a href="../index.html">Fmlib_std</a> &#x00BB; Unicode</nav><header class="odoc-preamble"><h1>Module <code><span>Fmlib_std.Unicode</span></code></h1><p>Support for unicode</p></header><nav class="odoc-toc"><ul><li><a href="#utf8-encoding">Utf8 Encoding</a></li></ul></nav><div class="odoc-content"><h2 id="utf8-encoding"><a href="#utf8-encoding" class="anchor"></a>Utf8 Encoding</h2><p>Unicode has 17 planes with `2^16` code points minus `2^11` technically invalid surrogates.</p><p>Ascii characters i.e. values in the range `0..127` or `0b0000_0000..0b0xxx_xxxx` are valid utf8 characters.</p><p>Code points: `U+0000`- `U+10FFFF` . These are `0x11_0000` (`2^20 + 2^16 = 1_048_576 + 65_536 = 1_114_112`) code points. However the code points `U+D800`-`U+DFFF` (`2^11 = 2048`) are used to code *surrogate pairs* and are therefore invalid. I.e. there are only `1_112_064` valid code points.</p><p>UTF8 code points: `0x0000-0xD7FF`, `0xE000-0x10FFFF`.</p><p>Replacement character `U+FFFD` for uninterpretable encoding.</p><p>Encodings:</p><pre>        +--------+-------------------------------------+-------------------+
        | 1 byte | 0xxxxxxx                            | 7 bits            |
        | 2 byte | 110xxxxx 10xxxxxx                   | 11 bits (5 + 6)   |
        | 3 byte | 1110xxxx 10xxxxxx 10xxxxxx          | 16 bits (4 + 2*6) |
        | 4 byte | 11110xxx 10xxxxxx 10xxxxxx 10xxxxxx | 21 bits (3 + 3*6) |
        +--------+-------------------------------------+-------------------+</pre><p>There are Advantages:</p><ul><li>Backward compatible to ascii.</li><li>Easy recognition of multibyte boundaries. Leading bytes and continuation bytes do not share values.</li><li>First byte in a multibyte sequence indicates the number of bytes of the multibyte sequence (number of binary `1`s in the first byte.</li></ul><div class="odoc-spec"><div class="spec value anchored" id="val-is_utf8_1byte"><a href="#val-is_utf8_1byte" class="anchor"></a><code><span><span class="keyword">val</span> is_utf8_1byte : <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_utf8_1byte c</code> Is the character <code>c</code> a one byte character in utf8?</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_utf8_2byte"><a href="#val-is_utf8_2byte" class="anchor"></a><code><span><span class="keyword">val</span> is_utf8_2byte : <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_utf8_2byte c</code> Does the character <code>c</code> start a utf8 2 byte character?</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_utf8_3byte"><a href="#val-is_utf8_3byte" class="anchor"></a><code><span><span class="keyword">val</span> is_utf8_3byte : <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_utf8_3byte c</code> Does the character <code>c</code> start a utf8 3 byte character?</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_utf8_4byte"><a href="#val-is_utf8_4byte" class="anchor"></a><code><span><span class="keyword">val</span> is_utf8_4byte : <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_utf8_4byte c</code> Does the character <code>c</code> start a utf8 4 byte character?</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_utf8_continuation"><a href="#val-is_utf8_continuation" class="anchor"></a><code><span><span class="keyword">val</span> is_utf8_continuation : <span>char <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_utf8_4byte c</code> Is the character <code>c</code> start a utf8 continuation character?</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Utf8"><a href="#module-Utf8" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Utf8/index.html">Utf8</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Support for scanning bytes of a character in utf8 encoding.</p></div></div></div></body></html>