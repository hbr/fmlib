<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>File_reader (fmlib_js.Fmlib_js.File_reader)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">fmlib_js</a> &#x00BB; <a href="../index.html">Fmlib_js</a> &#x00BB; File_reader</nav><header class="odoc-preamble"><h1>Module <code><span>Fmlib_js.File_reader</span></code></h1><p>The javascript file reader object</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The type of the file reader.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-event_target"><a href="#val-event_target" class="anchor"></a><code><span><span class="keyword">val</span> event_target : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Event_target/index.html#type-t">Event_target.t</a></span></code></div><div class="spec-doc"><p>View the file reader as an event target.</p><p>For reading the contents of a file into memory, an event handler for the <code>loadend</code> event has to be registered and a read function, e.g. <a href="#val-read_text"><code>read_text</code></a> has to be called. The handler can then obtain the file contents by calling <a href="#val-result"><code>result</code></a> and decode them using one of the following decoders:</p><ul><li><a href="../Base/Decode/index.html#val-string"><code>Base.Decode.string</code></a>, if <a href="#val-read_text"><code>read_text</code></a> was used</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create a file reader.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-ready_state"><a href="#val-ready_state" class="anchor"></a><code><span><span class="keyword">val</span> ready_state : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Ready state of the read operation.</p><pre class="language-ocaml"><code>    0: empty
    1: loading
    2: done</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_text"><a href="#val-read_text" class="anchor"></a><code><span><span class="keyword">val</span> read_text : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../File/index.html#type-t">File.t</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Read the file contents into a string.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-result"><a href="#val-result" class="anchor"></a><code><span><span class="keyword">val</span> result : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Base/Value/index.html#type-t">Base.Value.t</a> option</span></span></code></div><div class="spec-doc"><p>The result of the read operation or <code>None</code> if an error occurred.</p></div></div></div></body></html>
