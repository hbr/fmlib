<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Pretty (fmlib_pretty.Fmlib_pretty.Pretty)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">fmlib_pretty</a> &#x00BB; <a href="../index.html">Fmlib_pretty</a> &#x00BB; Pretty</nav><header class="odoc-preamble"><h1>Module <code><span>Fmlib_pretty.Pretty</span></code></h1><p>Pretty Printer: Generate nicely formatted ascii text.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#documentation">Documentation</a></li><li><a href="#api">API</a><ul><li><a href="#create-documents">Create Documents</a></li><li><a href="#layout-documents">Layout Documents</a></li><li><a href="#write-or-convert-to-string">Write or Convert to String</a></li></ul></li></ul></nav></div><div class="odoc-content"><h2 id="documentation"><a href="#documentation" class="anchor"></a>Documentation</h2><p><a href="../../pretty.html" title="pretty">Pretty Printing Overview</a></p><h2 id="api"><a href="#api" class="anchor"></a>API</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Stream"><a href="#module-Stream" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stream/index.html">Stream</a></span><span> : <a href="../../../fmlib_std/Fmlib_std/Interfaces/module-type-SOURCE/index.html">Fmlib_std.Interfaces.SOURCE</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../../fmlib_std/Fmlib_std/Interfaces/module-type-SOURCE/index.html#type-item">item</a> := char</span></span></code></div><div class="spec-doc"><p>Lazy stream of characters</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A document which can be pretty printed.</p></div></div><h3 id="create-documents"><a href="#create-documents" class="anchor"></a>Create Documents</h3><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>An empty document.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-text"><a href="#val-text" class="anchor"></a><code><span><span class="keyword">val</span> text : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>text str</code> A document with the unbreakable string <code>str</code>. It is highly recommended that the string does not contain newlines. Newlines in a text string confuse the layouter.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-substring"><a href="#val-substring" class="anchor"></a><code><span><span class="keyword">val</span> substring : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>substring str start length</code> A document with the unbreakable string <code>str</code> starting at position <code>start</code> and having <code>length</code>.</p><p>This is a useful function if you want to create documents from a larger string without splittig the string. <a href="#val-substring"><code>substring</code></a> is a reference into a possible larger string.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fill"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>fill n c</code> A document with <code>n</code> repetitions of the character <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-char"><a href="#val-char" class="anchor"></a><code><span><span class="keyword">val</span> char : <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>char c</code> A document with the character <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-break"><a href="#val-break" class="anchor"></a><code><span><span class="keyword">val</span> break : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>break str</code> A break hint with the alternative text <code>str</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cut"><a href="#val-cut" class="anchor"></a><code><span><span class="keyword">val</span> cut : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>cut</code> A break hint with an empty alternative text.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-space"><a href="#val-space" class="anchor"></a><code><span><span class="keyword">val</span> space : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>space</code> A break hint with one blank as alternative text.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;+&gt;)"><a href="#val-(&lt;+&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;+&gt;) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>x &lt;+&gt; y</code> Concatentate the documents <code>x</code> and <code>y</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(+|)"><a href="#val-(+|)" class="anchor"></a><code><span><span class="keyword">val</span> (+|) : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>doc1 &lt;+&gt; doc2</code> Concatentate the document <code>x</code> with the lazy document <code>y</code>.</p><p>Lazy documents are useful for large documents.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(|+|)"><a href="#val-(|+|)" class="anchor"></a><code><span><span class="keyword">val</span> (|+|) : <span><span><a href="#type-t">t</a> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>doc1 &lt;+&gt; doc2</code> Concatentate the lazy document <code>x</code> with the lazy document <code>y</code>.</p><p>Lazy documents are useful for large documents.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cat"><a href="#val-cat" class="anchor"></a><code><span><span class="keyword">val</span> cat : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>cat list</code> Concatenate all documents in the <code>list</code> of documents.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-separated_by"><a href="#val-separated_by" class="anchor"></a><code><span><span class="keyword">val</span> separated_by : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>separated_by sep list</code> Concatenate all documents in the <code>list</code> of documents separated by <code>sep</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-paragraphs"><a href="#val-paragraphs" class="anchor"></a><code><span><span class="keyword">val</span> paragraphs : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>paragraphs ps</code></p><p>Print the paragraphs in <code>ps</code> separated by newlines. The function works best if each paragraph ends in a newline. <code>paragraphs ps</code> is equivalent to <code>separated_by cut ps</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nest"><a href="#val-nest" class="anchor"></a><code><span><span class="keyword">val</span> nest : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>nest n x</code></p><p>The document <code>x</code> indented by <code>n</code> blanks.</p><p>This is the basic function to indicate a substructure to the pretty printer. The substructure is indented with respect to the parent document.</p><p>The indentation is valid after each effective line break. It is usually convenient to group the whole substructure and put a break hint before the group and group the parent structure and the substructure. This makes sure that either the parent and the child fit on a line or the child begins on a newline and is indented. See the function <a href="#val-parent_child"><code>parent_child</code></a> below which does exactly that.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nest_lazy"><a href="#val-nest_lazy" class="anchor"></a><code><span><span class="keyword">val</span> nest_lazy : <span>int <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> <span class="xref-unresolved">Stdlib</span>.Lazy.t</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The same as <a href="#val-nest"><code>nest</code></a> where the indented document is a lazy document.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-group"><a href="#val-group" class="anchor"></a><code><span><span class="keyword">val</span> group : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>group x</code></p><p>Treat all break hints belonging directly to <code>x</code> consistently. Either print all as newlines or print all with their alternative text.</p><p>This is the basic operation to decide break hints.</p><p>If the whole group and all text which follows until the next break hint after the group fits on a line, then all break hints (directly or indirectly) in the group are flattened i.e. printed with their alternative texts.</p><p>If the whole group does not fit, then all break hints belonging directly to the group are printed as effective newlines. The breaks of inner groups might be flattened depending on the length of the inner groups.</p><p>Grouping is idempotent, i.e. <code>group (group x)</code> is the same as <code>group x</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parent_child"><a href="#val-parent_child" class="anchor"></a><code><span><span class="keyword">val</span> parent_child : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>parent_child hint indent parent child</code></p><p>Put the parent and the child in a group and separate them by a break hint with the alternative text <code>hint</code>. Furthermore put the child in a separate group.</p><p>Equivalent to</p><pre class="language-ocaml"><code>parent
&lt;+&gt; nest indent (break hint &lt;+&gt; group child)
|&gt; group</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pack"><a href="#val-pack" class="anchor"></a><code><span><span class="keyword">val</span> pack : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>pack str list</code> Pack as many documents of the <code>list</code> of documents as possible into a line. I.e. separate all documents by a break hint with <code>str</code> in an own group as an alternative text.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack"><a href="#val-stack" class="anchor"></a><code><span><span class="keyword">val</span> stack : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>stack str list</code> Put a break hint between all documents in the list.</p><p>No grouping is done. I.e. if the list does not belong to any group or is in a group where all breaks are effective, then each document in the list is printed on a separated line.</p><p>The same as <code>separated_by (break str) list</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_or_pack"><a href="#val-stack_or_pack" class="anchor"></a><code><span><span class="keyword">val</span> stack_or_pack : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>stack_or_pack str list</code> Separate all documents of the <code>list</code> by a break hint with alternative text <code>str</code> and either print all break hints as newlines of with the alternative text <code>str</code>.</p><p>This is effectively <code>stack str list |&gt; group</code>.</p><p>It should not be confused with <code>stack str list</code> where each break hint can be flattened individually.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wrap_words"><a href="#val-wrap_words" class="anchor"></a><code><span><span class="keyword">val</span> wrap_words : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>wrap_words str</code></p><p>Split the string <code>str</code> into words (words are substrings of <code>str</code> not containing whitespace, newline, CR and tab are treated as whitespace) and pack as many of them onto a line.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wrap_words_list"><a href="#val-wrap_words_list" class="anchor"></a><code><span><span class="keyword">val</span> wrap_words_list : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The same as <a href="#val-wrap_words"><code>wrap_words</code></a> <code>str</code> where <code>str</code> is the string of all concatenated strings in the list separated by a whitespace character.</p></div></div><h3 id="layout-documents"><a href="#layout-documents" class="anchor"></a>Layout Documents</h3><div class="odoc-spec"><div class="spec value anchored" id="val-layout"><a href="#val-layout" class="anchor"></a><code><span><span class="keyword">val</span> layout : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Stream/index.html#type-t">Stream.t</a></span></code></div><div class="spec-doc"><p><code>layout width doc</code> Layout the document <code>doc</code> with a the line <code>width</code> into a character stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-layout_with_ribbon"><a href="#val-layout_with_ribbon" class="anchor"></a><code><span><span class="keyword">val</span> layout_with_ribbon : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="Stream/index.html#type-t">Stream.t</a></span></code></div><div class="spec-doc"><p><code>layout width ribbon x</code> Layout the document <code>x</code> with a the line <code>width</code> and the <code>ribbon</code> width. Note: <code>width</code> is the desired complete line width and <code>ribbon</code> is the desired width of a line without its indentation.</p></div></div><h3 id="write-or-convert-to-string"><a href="#write-or-convert-to-string" class="anchor"></a>Write or Convert to String</h3><div class="odoc-spec"><div class="spec value anchored" id="val-write_to_channel"><a href="#val-write_to_channel" class="anchor"></a><code><span><span class="keyword">val</span> write_to_channel : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><a href="Stream/index.html#type-t">Stream.t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Write a character stream to an output channel.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-to_string"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="Stream/index.html#type-t">Stream.t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert a character stream to a string.</p></div></div></div></body></html>
