<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Print (fmlib_pretty.Fmlib_pretty.Print)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../../index.html">Index</a> &#x00BB; <a href="../../index.html">fmlib_pretty</a> &#x00BB; <a href="../index.html">Fmlib_pretty</a> &#x00BB; Print</nav><header class="odoc-preamble"><h1>Module <code><span>Fmlib_pretty.Print</span></code></h1><p>DEPRECATED: use <a href="../Pretty/index.html"><code>Pretty</code></a> instead</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#documentation">Documentation</a></li><li><a href="#api">API</a><ul><li><a href="#types">Types</a></li><li><a href="#layout-a-document">Layout a Document</a></li><li><a href="#character-stream">Character Stream</a></li><li><a href="#document-combinators">Document Combinators</a><ul><li><a href="#basic-combinators">Basic Combinators</a></li><li><a href="#convenience-combinators">Convenience Combinators</a></li></ul></li></ul></li></ul></nav></div><div class="odoc-content"><h2 id="documentation"><a href="#documentation" class="anchor"></a>Documentation</h2><p><a href="../../pretty.html" title="pretty">Pretty Printing Overview</a></p><h2 id="api"><a href="#api" class="anchor"></a>API</h2><h3 id="types"><a href="#types" class="anchor"></a>Types</h3><div class="odoc-spec"><div class="spec type anchored" id="type-doc"><a href="#type-doc" class="anchor"></a><code><span><span class="keyword">type</span> doc</span></code></div><div class="spec-doc"><p>A document which can be pretty printed.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A pretty printed document as a readable character stream.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-item"><a href="#type-item" class="anchor"></a><code><span><span class="keyword">type</span> item</span><span> = char</span></code></div><div class="spec-doc"><p>The item type in the readable stream is <code>char</code>.</p></div></div><h3 id="layout-a-document"><a href="#layout-a-document" class="anchor"></a>Layout a Document</h3><div class="odoc-spec"><div class="spec value anchored" id="val-layout"><a href="#val-layout" class="anchor"></a><code><span><span class="keyword">val</span> layout : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>layout width doc</code> Layout the document <code>doc</code> with a the line <code>width</code> into a character stream.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-layout_with_ribbon"><a href="#val-layout_with_ribbon" class="anchor"></a><code><span><span class="keyword">val</span> layout_with_ribbon : <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>layout width ribbon doc</code> Layout the document <code>doc</code> with a the line <code>width</code> and the <code>ribbon</code> width. Note: <code>width</code> is the complete line width and <code>ribbon</code> is the line width minus the indentation of the current line.</p></div></div><h3 id="character-stream"><a href="#character-stream" class="anchor"></a>Character Stream</h3><div class="odoc-spec"><div class="spec value anchored" id="val-has_more"><a href="#val-has_more" class="anchor"></a><code><span><span class="keyword">val</span> has_more : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>has_more s</code> Does the stream <code>s</code> have more characters to read? </p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-peek"><a href="#val-peek" class="anchor"></a><code><span><span class="keyword">val</span> peek : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> char</span></code></div><div class="spec-doc"><p><code>peek s</code> The next character in the stream <code>s</code>.</p><p>Precondition: <code>has_more s</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-advance"><a href="#val-advance" class="anchor"></a><code><span><span class="keyword">val</span> advance : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>advance s</code> The character stream <code>s</code> advanced by one position. I.e. the first character popped off the stream.</p><p>Precondition: <code>has_more s</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of"><a href="#val-string_of" class="anchor"></a><code><span><span class="keyword">val</span> string_of : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>string_of s</code> A string representation of the stream <code>s</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_to_channel"><a href="#val-write_to_channel" class="anchor"></a><code><span><span class="keyword">val</span> write_to_channel : <span><span class="xref-unresolved">Stdlib</span>.out_channel <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>write_to_channel oc s</code> Write the stream <code>s</code> to the output channel <code>oc</code>.</p></div></div><h3 id="document-combinators"><a href="#document-combinators" class="anchor"></a>Document Combinators</h3><p>This section describes all combinators which can be used to generate documents and combine them into bigger documents.</p><h4 id="basic-combinators"><a href="#basic-combinators" class="anchor"></a>Basic Combinators</h4><div class="odoc-spec"><div class="spec value anchored" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p>An empty document.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-text"><a href="#val-text" class="anchor"></a><code><span><span class="keyword">val</span> text : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>text str</code> A document with the unbreakable string <code>str</code>. It is highly recommended that the string does not contain newlines. Newlines in a text string confuse the layouter.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-substring"><a href="#val-substring" class="anchor"></a><code><span><span class="keyword">val</span> substring : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>substring str start length</code> A document with the unbreakable string <code>str</code> starting at position <code>start</code> and having <code>length</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-char"><a href="#val-char" class="anchor"></a><code><span><span class="keyword">val</span> char : <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>char c</code> A document with the character <code>c</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fill"><a href="#val-fill" class="anchor"></a><code><span><span class="keyword">val</span> fill : <span>int <span class="arrow">&#45;&gt;</span></span> <span>char <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>fill n c</code> A document with <code>n</code> repetitions of the character <code>c</code>.</p><p>Precondition: 0 &lt;= n</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-break"><a href="#val-break" class="anchor"></a><code><span><span class="keyword">val</span> break : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>break str</code> A break hint with the alternative text <code>str</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-space"><a href="#val-space" class="anchor"></a><code><span><span class="keyword">val</span> space : <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>space</code> A break hint with a blank as alternative text.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cut"><a href="#val-cut" class="anchor"></a><code><span><span class="keyword">val</span> cut : <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>cut</code> A break hint with an empty alternative text.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&lt;+&gt;)"><a href="#val-(&lt;+&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&lt;+&gt;) : <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>doc1 &lt;+&gt; doc2</code> Concatentate the documents <code>doc1</code> and <code>doc2</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-(&gt;&gt;)"><a href="#val-(&gt;&gt;)" class="anchor"></a><code><span><span class="keyword">val</span> (&gt;&gt;) : <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>doc &gt;&gt; lazy_doc</code> Concatenate the document <code>doc</code> with the lazy document <code>lazy_doc</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-group"><a href="#val-group" class="anchor"></a><code><span><span class="keyword">val</span> group : <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>group doc</code></p><p>Treat all break hints belonging directly to <code>doc</code> consistently. Either print all as newlines or print all with their alternative text.</p><p>This is the basic operation to decide break hints.</p><p>If the whole group and all text which follows until the next break hint after the group fits on a line, then all break hints (directly or indirectly) in the group are flattened i.e. printed with their alternative texts.</p><p>If the whole group does not fit, then all break hints belonging directly to the group are printed as effective newlines. The break hints of inner groups are considered separately.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-nest"><a href="#val-nest" class="anchor"></a><code><span><span class="keyword">val</span> nest : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>nest n doc</code></p><p>The document <code>doc</code> indented by <code>n</code> blanks.</p><p>This is the basic function to indicate a substructure to the pretty printer. The substructure is indented with respect to the parent document.</p><p>The indentation is valid after each effective line break. It is usually convenient to group the whole substructure and put a break hint before the group and group the parent structure and the substructure. This makes sure that either the parent and the child fit on a line or the child begins on a newline and is indented. See the function <code>parent_child</code> below which does exactly that.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_width"><a href="#val-with_width" class="anchor"></a><code><span><span class="keyword">val</span> with_width : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>with_width n doc</code> Format the document <code>doc</code> with line <code>width</code>.</p><p>Use this combinator if you want to format the internal document <code>doc</code> with a different line width than the overall document.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_ribbon"><a href="#val-with_ribbon" class="anchor"></a><code><span><span class="keyword">val</span> with_ribbon : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>with_ribbon n doc</code> Format the document <code>doc</code> with <code>ribbon</code> width.</p><p>Use this combinator if you want to format the internal document <code>doc</code> with a different ribbon width than the overall document.</p></div></div><h4 id="convenience-combinators"><a href="#convenience-combinators" class="anchor"></a>Convenience Combinators</h4><div class="odoc-spec"><div class="spec value anchored" id="val-parent_child"><a href="#val-parent_child" class="anchor"></a><code><span><span class="keyword">val</span> parent_child : <span>string <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>parent_child hint indent parent child</code></p><p>Put the parent and the child in a group and separate them by a break hint with the alternative text <code>hint</code>. Furthermore put the child in a separate group.</p><p>Equivalent to</p><pre class="language-ocaml"><code>parent
&lt;+&gt; break hint
&lt;+&gt; nest indent (group child)
|&gt; group</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cat"><a href="#val-cat" class="anchor"></a><code><span><span class="keyword">val</span> cat : <span><span><a href="#type-doc">doc</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>cat list</code> Concatenate all documents in the <code>list</code> of documents.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-separated_by"><a href="#val-separated_by" class="anchor"></a><code><span><span class="keyword">val</span> separated_by : <span><a href="#type-doc">doc</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-doc">doc</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>separated_by sep list</code> Concatenate all documents in the <code>list</code> of documents separated by <code>sep</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pack"><a href="#val-pack" class="anchor"></a><code><span><span class="keyword">val</span> pack : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-doc">doc</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>pack str list</code> Pack as much documents of the <code>list</code> of documents as possible into a line. I.e. separate all documents by a break hint with <code>str</code> as an alternative text.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack"><a href="#val-stack" class="anchor"></a><code><span><span class="keyword">val</span> stack : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-doc">doc</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>stack str list</code> The same as <code>separated_by (break str) list</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-stack_or_pack"><a href="#val-stack_or_pack" class="anchor"></a><code><span><span class="keyword">val</span> stack_or_pack : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-doc">doc</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>stack_or_pack str list</code> Separate all documents of the <code>list</code> by a break hint with alternative text <code>str</code> and either print all break hints as newlines of with the alternative text <code>str</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-wrap_words"><a href="#val-wrap_words" class="anchor"></a><code><span><span class="keyword">val</span> wrap_words : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>wrap_words str</code> Split the string <code>str</code> into words (words are substrings of <code>str</code> not containing blanks) and pack as many of them onto a line.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-paragraphs"><a href="#val-paragraphs" class="anchor"></a><code><span><span class="keyword">val</span> paragraphs : <span><span><a href="#type-doc">doc</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-doc">doc</a></span></code></div><div class="spec-doc"><p><code>paragraphs ps</code></p><p>Print the paragraphs in <code>ps</code> separated by newlines. The function works best if each paragraph ends in a newline. <code>paragraphs ps</code> is equivalent to <code>separated_by cut ps</code>.</p></div></div></div></body></html>
