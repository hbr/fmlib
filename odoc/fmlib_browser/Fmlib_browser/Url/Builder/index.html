<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Builder (fmlib_browser.Fmlib_browser.Url.Builder)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">Index</a> &#x00BB; <a href="../../../index.html">fmlib_browser</a> &#x00BB; <a href="../../index.html">Fmlib_browser</a> &#x00BB; <a href="../index.html">Url</a> &#x00BB; Builder</nav><header class="odoc-preamble"><h1>Module <code><span>Url.Builder</span></code></h1><p>Construct URLs.</p></header><div class="odoc-tocs"><nav class="odoc-toc odoc-local-toc"><ul><li><a href="#path-builders">Path builders</a></li><li><a href="#query-and-fragment-builders">Query and fragment builders</a></li><li><a href="#url-builders">URL builders</a></li></ul></nav></div><div class="odoc-content"><h2 id="path-builders"><a href="#path-builders" class="anchor"></a>Path builders</h2><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>The path builder type</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-raw"><a href="#val-raw" class="anchor"></a><code><span><span class="keyword">val</span> raw : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>raw s</code> creates a URL path segment from string <code>s</code> without percent-encoding it.</p><p>This is useful for including readable unicode graphemes in the URL path. See <a href="#val-absolute"><code>absolute</code></a> for examples.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string"><a href="#val-string" class="anchor"></a><code><span><span class="keyword">val</span> string : <span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>string s</code> creates a URL path segment from string <code>s</code>.</p><p>Special characters like <code>?</code>, <code>/</code> or non-ASCII characters will be automatically escaped using percent-encoding. See <a href="#val-absolute"><code>absolute</code></a> for examples.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-int"><a href="#val-int" class="anchor"></a><code><span><span class="keyword">val</span> int : <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>int i</code> creates a URL path segment from the integer <code>i</code>.</p><p>See <a href="#val-absolute"><code>absolute</code></a> for examples.</p></div></div><h2 id="query-and-fragment-builders"><a href="#query-and-fragment-builders" class="anchor"></a>Query and fragment builders</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Query"><a href="#module-Query" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Query/index.html">Query</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Construct queries</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Fragment"><a href="#module-Fragment" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Fragment/index.html">Fragment</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Construct fragments</p></div></div><h2 id="url-builders"><a href="#url-builders" class="anchor"></a>URL builders</h2><div class="odoc-spec"><div class="spec type anchored" id="type-root"><a href="#type-root" class="anchor"></a><code><span><span class="keyword">type</span> root</span><span> = </span></code><ol><li id="type-root.Absolute" class="def variant constructor anchored"><a href="#type-root.Absolute" class="anchor"></a><code><span>| </span><span><span class="constructor">Absolute</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A local URL starting with an absolute path.</p><span class="comment-delim">*)</span></div></li><li id="type-root.Relative" class="def variant constructor anchored"><a href="#type-root.Relative" class="anchor"></a><code><span>| </span><span><span class="constructor">Relative</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>A local URL starting with a relative path (relative to the current location).</p><span class="comment-delim">*)</span></div></li><li id="type-root.Cross_origin" class="def variant constructor anchored"><a href="#type-root.Cross_origin" class="anchor"></a><code><span>| </span><span><span class="constructor">Cross_origin</span> <span class="keyword">of</span> string</span></code><div class="def-doc"><span class="comment-delim">(*</span><p><code>Cross_origin origin</code> is a remote URL where the given <code>origin</code> is different from the current location.</p><span class="comment-delim">*)</span></div></li></ol></div><div class="spec-doc"><p>The type of custom URL we want to construct using <a href="#val-custom"><code>custom</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-absolute"><a href="#val-absolute" class="anchor"></a><code><span><span class="keyword">val</span> absolute : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="Query/index.html#type-t">Query.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>absolute path_segments query_parameters</code> constructs a local URL (omitting the scheme and authority parts), containing the given <code>path_segments</code> and <code>query_parameters</code>.</p><p>Examples:</p><pre class="language-ocaml"><code>    absolute [] []
    (* &quot;/&quot; *)

    absolute [string &quot;blog&quot;; int 2025; int 8; int 7] []
    (* &quot;/blog/2025/8/7&quot; *)

    absolute [string &quot;products&quot;] [Query.string &quot;search&quot; &quot;hat&quot;; Query.int &quot;page&quot; 2]
    (* &quot;/products?search=hat&amp;page=2&quot; *)

    absolute [string &quot;name&quot;; string &quot;Ð“ÐµÐ»ÑŒÐ¼ÑƒÑ‚&quot;] []
    (* &quot;/name/%D0%93%D0%B5%D0%BB%D1%8C%D0%BC%D1%83%D1%82&quot; *)

    absolute [string &quot;name&quot;; raw &quot;Ð“ÐµÐ»ÑŒÐ¼ÑƒÑ‚&quot;] []
    (* &quot;/name/Ð“ÐµÐ»ÑŒÐ¼ÑƒÑ‚&quot; *)

    absolute [] [Query.string &quot;emoji&quot; &quot;ðŸ˜…&quot;]
    (* &quot;?emoji=%F0%9F%98%85&quot; *)

    absolute [] [Query.raw &quot;emoji&quot; &quot;ðŸ˜…&quot;]
    (* &quot;?emoji=ðŸ˜…&quot; *)</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-relative"><a href="#val-relative" class="anchor"></a><code><span><span class="keyword">val</span> relative : <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="Query/index.html#type-t">Query.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>relative path_segments query_parameters</code> constructs a relative local URL (relative the the current location), containing the given <code>path_segments</code> and <code>query_parameters</code>.</p><p>This behaves the same as <a href="#val-absolute"><code>absolute</code></a>, but omits the leading slash.</p><p>Examples:</p><pre class="language-ocaml"><code>    relative [] []
    (* &quot;&quot; *)

    relative [string &quot;blog&quot;; int 2025; int 8; int 7] []
    (* &quot;blog/2025/8/7&quot; *)</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cross_origin"><a href="#val-cross_origin" class="anchor"></a><code><span><span class="keyword">val</span> cross_origin : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="Query/index.html#type-t">Query.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>cross_origin pre_path path_segments query_parameters</code> allows constructing a cross-origin URL, (a URL with a different host than the current location), containing the given <code>path_segments</code> and <code>query_parameters</code>.</p><p><code>pre_path</code> is inserted before the path as-is without further checks or encoding.</p><p>Example:</p><pre class="language-ocaml"><code>    cross_origin &quot;https://ocaml.org&quot; [string &quot;books&quot;] []
    (* &quot;https://ocaml.org/books&quot; *)</code></pre></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-custom"><a href="#val-custom" class="anchor"></a><code><span><span class="keyword">val</span> custom : <span><a href="#type-root">root</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="Query/index.html#type-t">Query.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="Fragment/index.html#type-t">Fragment.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>custom root path_segments query_parameters fragment</code> allows constructing custom URLs containing the given <code>path_segments</code>, <code>query_parameters</code> and <code>fragment</code>.</p><p>Examples:</p><pre class="language-ocaml"><code>    custom
        Absolute
        [string &quot;article&quot;; int 42]
        [Query.string &quot;search&quot; &quot;ocaml&quot;]
        [Some Fragment.string &quot;conclusion&quot;]
    (* &quot;/article/42?search=ocaml#conclusion&quot; *)

    custom
        (Cross_origin &quot;https://ocaml.org&quot;)
        [string &quot;excercises&quot;]
        []
        (Some Fragment.int 6)
    (* &quot;https://ocaml.org/excercises#6&quot; *)</code></pre></div></div></div></body></html>
